// This file is automatically generated. Do not edit it directly.
import { createClient } from '@supabase/supabase-js';
import type { Database } from './types';

type EnvSource = Record<string, string | undefined>;

const loadImportMetaEnv = (): EnvSource | undefined => {
  return typeof import.meta !== 'undefined'
    ? ((import.meta as ImportMeta & { env?: EnvSource })?.env ?? undefined)
    : undefined;
};

const processEnv = typeof process !== 'undefined'
  ? ((process.env ?? {}) as EnvSource)
  : undefined;

const envSource: EnvSource = loadImportMetaEnv() ?? processEnv ?? {};

const SUPABASE_URL = 'https://gjasopawxervhxcqvyqy.supabase.co';
const SUPABASE_PUBLISHABLE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdqYXNvcGF3eGVydmh4Y3F2eXF5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA4MDA3MTEsImV4cCI6MjA3NjM3NjcxMX0.GRKGvXWvHu-DO4HIXoykciIYkMoLGa12qRVi6TDsAfg';

const authStorage = typeof window !== 'undefined' && window?.localStorage ? window.localStorage : undefined;

type SupabaseClientInstance = ReturnType<typeof createClient<Database>>;

const globalSupabase = globalThis as typeof globalThis & { __supabaseClient__?: SupabaseClientInstance };

if (!globalSupabase.__supabaseClient__) {
  globalSupabase.__supabaseClient__ = createClient<Database>(SUPABASE_URL, SUPABASE_PUBLISHABLE_KEY, {
    auth: {
      storage: authStorage,
      persistSession: true,
      autoRefreshToken: true,
    }
  });
}

export const supabase = globalSupabase.__supabaseClient__;
